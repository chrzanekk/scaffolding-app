<!DOCTYPE html>

<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <div th:replace="fragments/head"></div>
    <script th:src="@{/js/admin-vehicle-service-action-edit.js}"></script>
    <script th:inline="javascript">
        var vehicle = [[${vehicle}]];
        var serviceAction = [[${serviceAction}]]
        var serviceActionTypes = [[${serviceActionTypes}]];
        var workshops = [[${workshops}]];
    </script>
</head>

<body>
<div th:replace="fragments/menu :: menu"></div>

<div class="container">
    <div class="text-center">
        <h3 th:text="#{vehicle.service.details}"></h3>
        <h4 th:text="${vehicle.brandName} +' '+ ${vehicle.modelName}"></h4>
        <h5 th:text="${vehicle.registrationNumber}"></h5>
    </div>

    <form class="bg-light p-5 border">
        <div class="form-row">
            <div class="form-group col-md-4 text-center">
                <label for="invoice-number" th:text="#{vehicle.service.invoice.no}"></label>
                <input type="text" class="form-control" id="invoice-number" th:value="${serviceAction.invoiceNumber}">
            </div>
            <div class="form-group col-md-4 text-center">
                <label for="invoice-gross-value" th:text="#{vehicle.service.invoice.value}"></label>
                <input type="text" class="form-control" id="invoice-gross-value"
                       th:value="${serviceAction.invoiceGrossValue}">
            </div>
            <div class="form-group col-md-4 text-center">
                <label for="service-date" th:text="#{vehicle.service.date}"></label>
                <input type="date" class="form-control" id="service-date" th:value="${serviceAction.serviceDate}">
            </div>
            <div class="form-group col-md-4 text-center">
                <label for="service-workshop" th:text="#{vehicle.service.workshop}"></label>
                <select id="service-workshop" class="form-control" onchange="reloadWorkshopServices()">
                    <option th:each="workshop : ${workshops}"
                            th:value="${workshop.id}"
                            th:text="${workshop.name}"
                            th:selected="(${workshop.name} == *{serviceAction.workshopName})"></option>
                </select>
            </div>
            <div class="form-group col-md-4 text-center">
                <label for="car-mileage" th:text="#{vehicle.service.car.mileage}"></label>
                <input type="number" class="form-control" id="car-mileage" th:value="${serviceAction.carMileage}">
            </div>
            <div class="form-group col-md-4 text-center">
                <label for="service-action-type" th:text="#{vehicle.service.type}"></label>
                <select id="service-action-type" class="form-control">
                    <option th:each="serviceActionType : ${serviceActionTypes}"
                            th:value="${serviceActionType.id}"
                            th:text="${serviceActionType.value}"
                            th:selected="(${serviceActionType.value} == *{serviceAction.serviceActionTypeName})"></option>
                </select>
            </div>
            <div class="form-group col-md-4 text-center">
                <label for="service-action-description" th:text="#{vehicle.service.description}"></label>
                <input type="text" class="form-control" id="service-action-description"
                       th:value="${serviceAction.serviceActionDescription}">
            </div>



        </div>


            <div class="text-center">
                <button type="button" class="btn btn-danger mt-3" onclick="showDeleteModal()"
                        th:text="#{Delete}"></button>
                <button type="button" class="btn btn-warning mt-3" onclick="history.back()"
                        th:text="#{Cancel}"></button>
                <button type="button" class="btn btn-warning mt-3" onclick="sendUpdateRequest()"
                        th:text="#{Save.changes}"></button>
            </div>

    </form>

</div>

<div th:replace="fragments/operation-successful-modal :: modal"></div>
<div th:replace="fragments/delete-object-modal :: modal"></div>
</body>

</html>
